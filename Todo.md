# Todo

## Tutorial

- [ ] Java小游戏开发逻辑 https://zhuanlan.zhihu.com/p/59600990 
- [ ] 控制台窗口设计

## Game Setting

![image-20220321120554609](assets/image-20220321120554609.png)

## Commit

### feat:

lab 1

- [x] 每隔一定周期随机产生一架普通敌机或精英敌机
- [x] 精英敌机按设定周期发射子弹
- [x] 精英敌机坠毁后随机产生某种道具（或不产生道具）
- [x] 英雄机碰撞道具后，道具自动生效，其中加血道具生效时可使英雄机恢复一
  定血量，火力道具和炸弹道具无需具体实现，生效时只需打印“FireSupply
  active!”“BombSupply active!”语句即可。
- [x] 代码重构
- [x] 精英机左右移动，只有精英机产生道具，添加boss机
- [x] 使用源码解析器生成PlantUML代码，用于生成puml图
- [x] 绘制uml图，补注释，lab1完成后，branch，提交

---

- [x] 火力道具和炸弹道具生效
- [x] 设置所需要属性的setter和getter，方便调试，预留控制台窗口触发事件位置
- [x] 敌机通过屏幕下方扣除分数，分数扣除取决于敌军血量和类别
- [x] boss机子弹个数

lab2

- [x] 实验前修改代码
- [x] 英雄机单例模式
- [x] 敌机工厂模式
- [x] 道具工厂模式
- [x] 将属性隐藏在工厂中

lab3

- [x] 单元测试

- [x] 插件扫描代码并修复大部分

  > 剩余了一个线程池`CRITICAL`，和代码块过长的`MAJOR`

---

- [x] 修改英雄机和BOSS机弹道
- [x] 添加音频
- [ ] 添加敌机击毁的爆炸图像
- [ ] 添加护盾逻辑（加满血后再回血就套上护盾）
- [ ] 控制道具作用时长，效果逐级消退~~/直接初始化~~

### bug:

- [x] 鼠标点漫长可以导致瞬移，似乎是直接使用拖拽的必然bug，需要重新考虑拖拽的实现方式

  > 用move和drag同时作用于鼠标可以解决这一问题

- [x] ~~炸弹道具使用时没有触发道具生成~~（其实也合理，炸没了哪里来的道具）

- [x] 刷新频率与子弹、敌机产生速度绑定，慢速模式下存在卡顿

  > 不使用刷新频率来控制难度，而使用飞机本身的参数

- [x] 运行一段时间后（通常出现在击毁几架boss机后）再无敌机生成

  > 原因在于达到maxEnemyNum之后产生了boss机的问题，已修改`<`为`<=`